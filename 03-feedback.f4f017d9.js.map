{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,kBAC9BE,SAAUH,SAASC,cAAc,qBAGnCH,EAAKC,KAAKK,iBAAiB,SAAS,EAAAR,EAAAS,WAOpC,WACEC,EAAW,CACTC,MAAOT,EAAKI,MAAMM,MAAMC,OACxBC,QAASZ,EAAKK,SAASK,MAAMC,QAG/BE,aAAaC,QAVU,sBAUgBC,KAAKC,UAAUR,G,GAbE,MAC1DR,EAAKC,KAAKK,iBAAiB,UAe3B,SAAsBW,GACpBA,EAAEC,iBAEF,MAAMT,MAAEA,EAAKG,QAAEA,GAAYK,EAAEE,cAAcC,SAEvB,KAAhBX,EAAMC,OAAkC,KAAlBE,EAAQF,OAChCW,MAAM,mCAGR,MAAMC,EAAY,CAChBb,MAAOA,EAAMC,MAAMC,OACnBC,QAASA,EAAQF,MAAMC,QAEzBY,QAAQC,IAAIF,GAERT,aAAaY,QA5BM,wBA6BrBZ,aAAaa,WA7BQ,uBAgCvB1B,EAAKC,KAAK0B,QACVnB,EAAW,E,IAhCb,IAAIA,EAAW,IAmCf,WACE,MAAMoB,EAAoBb,KAAKc,MAAMhB,aAAaY,QArC3B,wBAuCnBZ,aAAaY,QAvCM,yBAwCrBzB,EAAKI,MAAMM,MAAQkB,EAAkBnB,MACrCT,EAAKK,SAASK,MAAQkB,EAAkBhB,Q,CAvC5CkB","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  input: document.querySelector('[name=\"email\"]'),\n  textarea: document.querySelector('[name=\"message\"]'),\n};\n\nrefs.form.addEventListener('input', throttle(onInputData, 500));\nrefs.form.addEventListener('submit', onFormSubmit);\n\nconst LOCALSTORAGE_KEY = 'feedback-form-state';\nlet formData = {};\nreloadPage();\n\nfunction onInputData() {\n  formData = {\n    email: refs.input.value.trim(),\n    message: refs.textarea.value.trim(),\n  };\n\n  localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  const { email, message } = e.currentTarget.elements;\n\n  if (email.value === '' || message.value === '') {\n    alert('Все поля должны быть заполнены!');\n  }\n\n  const valueForm = {\n    email: email.value.trim(),\n    message: message.value.trim(),\n  };\n  console.log(valueForm);\n\n  if (localStorage.getItem(LOCALSTORAGE_KEY)) {\n    localStorage.removeItem(LOCALSTORAGE_KEY);\n  }\n\n  refs.form.reset();\n  formData = {};\n}\n\nfunction reloadPage() {\n  const localStorageValue = JSON.parse(localStorage.getItem(LOCALSTORAGE_KEY));\n\n  if (localStorage.getItem(LOCALSTORAGE_KEY)) {\n    refs.input.value = localStorageValue.email;\n    refs.textarea.value = localStorageValue.message;\n  }\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$refs","form","document","querySelector","input","textarea","addEventListener","throttle","$945622fd0f572e60$var$formData","email","value","trim","message","localStorage","setItem","JSON","stringify","e","preventDefault","currentTarget","elements","alert","valueForm","console","log","getItem","removeItem","reset","localStorageValue","parse","$945622fd0f572e60$var$reloadPage"],"version":3,"file":"03-feedback.f4f017d9.js.map"}