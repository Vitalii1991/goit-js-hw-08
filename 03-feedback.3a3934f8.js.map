{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,MAAOF,SAASC,cAAc,kBAC9BE,SAAUH,SAASC,cAAc,qBAGnCH,EAAKC,KAAKK,iBAAiB,SAAS,EAAAR,EAAAS,WAMpC,WACEC,EAAW,CACTC,MAAOT,EAAKI,MAAMM,MAAMC,OACxBC,QAASZ,EAAKK,SAASK,MAAMC,QAG/BE,aAAaC,QATU,sBASgBC,KAAKC,UAAUR,G,GAZE,MAC1DR,EAAKC,KAAKK,iBAAiB,UAc3B,SAAsBW,GACpBA,EAAEC,iBAEF,MAAMT,MAAEA,EAAKG,QAAEA,GAAYK,EAAEE,cAAcC,SAC3CC,QAAQC,IAAI,CAAEb,MAAOA,EAAMC,MAAMC,OAAQC,QAASA,EAAQF,MAAMC,SAE5DE,aAAaU,QAlBM,wBAmBrBV,aAAaW,WAnBQ,uBAsBvBP,EAAEE,cAAcM,QAChBjB,EAAW,E,IAtBb,IAAIA,EAAW","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  input: document.querySelector('[name=\"email\"]'),\n  textarea: document.querySelector('[name=\"message\"]'),\n};\n\nrefs.form.addEventListener('input', throttle(onInputData, 500));\nrefs.form.addEventListener('submit', onFormSubmit);\n\nconst LOCALSTORAGE_KEY = 'feedback-form-state';\nlet formData = {};\n\nfunction onInputData() {\n  formData = {\n    email: refs.input.value.trim(),\n    message: refs.textarea.value.trim(),\n  };\n\n  localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(formData));\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  const { email, message } = e.currentTarget.elements;\n  console.log({ email: email.value.trim(), message: message.value.trim() });\n\n  if (localStorage.getItem(LOCALSTORAGE_KEY)) {\n    localStorage.removeItem(LOCALSTORAGE_KEY);\n  }\n\n  e.currentTarget.reset();\n  formData = {};\n}\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$refs","form","document","querySelector","input","textarea","addEventListener","throttle","$945622fd0f572e60$var$formData","email","value","trim","message","localStorage","setItem","JSON","stringify","e","preventDefault","currentTarget","elements","console","log","getItem","removeItem","reset"],"version":3,"file":"03-feedback.3a3934f8.js.map"}